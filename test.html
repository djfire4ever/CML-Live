<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Test Add Quote</title>
  <script src="config.js"></script>
</head>
<body>
  <h2>Quote Add Test</h2>
  <button onclick="testAddQuote()">Test Add Quote</button>
  <pre id="output"></pre>

  <script>
    // const scriptURL = "https://script.google.com/macros/s/YOUR_SCRIPT_URL_HERE/exec";

    async function testAddQuote() {
      const output = document.getElementById("output");
      output.textContent = "‚è≥ Sending request...";

      const dummyQuoteInfo = {
        firstName: "Test",
        lastName: "User",
        email: "test@example.com",
        phone: "123-456-7890",
        quoteDate: new Date().toISOString(),
        eventDate: "2025-12-25",
        totalAmount: 1000
        // Add more fields as needed that your script expects
      };

      try {
        const res = await fetch(scriptURL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            system: "quotes",
            action: "add",
            quoteInfo: dummyQuoteInfo
          })
        });

        const text = await res.text();
        output.textContent = `üì• Raw Response:\n${text}`;

        try {
          const json = JSON.parse(text);
          console.log("Parsed response:", json);
        } catch (parseErr) {
          console.warn("Failed to parse JSON:", parseErr);
        }

      } catch (err) {
        output.textContent = `‚ùå Error:\n${err}`;
      }
    }
  </script>
</body>
</html>
