<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Client Upload</title>
</head>
<body>
  <h2>Upload a File</h2>

  <!-- File input -->
  <input type="file" id="fileInput" required><br><br>

  <!-- Optional note -->
  <textarea id="noteInput" placeholder="Add a note (optional)"></textarea><br><br>

  <!-- Hidden client info -->
  <input type="hidden" id="clientID" value="12345">
  <input type="hidden" id="firstName" value="Felix">

  <!-- Upload button -->
  <button id="uploadBtn">Upload</button>

  <!-- Status -->
  <div id="status"></div>

  <script>
    document.getElementById("uploadBtn").addEventListener("click", async () => {
      const fileInput   = document.getElementById("fileInput");
      const noteInput   = document.getElementById("noteInput");
      const clientID    = document.getElementById("clientID").value;
      const firstName   = document.getElementById("firstName").value;
      const statusDiv   = document.getElementById("status");

      if (!fileInput.files.length) {
        statusDiv.textContent = "❌ Please select a file.";
        return;
      }

      // Build FormData
      const formData = new FormData();
      formData.append("file", file);          // what uploadFile(e) uses
      formData.append("uploadedFile", file);  // also accepted by doPost
      formData.append("fileNote", noteInput.value);
      formData.append("clientID", clientID);
      formData.append("firstName", firstName);

      try {
        const res = await fetch("YOUR_WEB_APP_URL_HERE", {
          method: "POST",
          body: formData
        });

        const data = await res.json();
        if (data.success) {
          statusDiv.textContent = "✅ File uploaded successfully!";
        } else {
          statusDiv.textContent = "❌ Upload failed: " + data.message;
        }
      } catch (err) {
        statusDiv.textContent = "❌ Error: " + err.message;
      }
    });
  </script>
</body>
</html>
