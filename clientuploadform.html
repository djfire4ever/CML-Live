<input type="file" id="fileInput">
<textarea id="noteInput" placeholder="Add a note (optional)"></textarea>
<button id="uploadBtn">Upload</button>
<div id="status"></div>

<script src="config.js"></script>

<script>
const uploadBtn = document.getElementById("uploadBtn");
const fileInput = document.getElementById("fileInput");
const noteInput = document.getElementById("noteInput");

uploadBtn.addEventListener("click", async () => {
  const file = fileInput.files[0];
  if (!file) return console.error("No file selected");

  const formData = new FormData();
  formData.append("system", "clientUploads");
  formData.append("action", "saveUploadedFiles");
  formData.append("clientID", "3863079249");
  formData.append("firstName", "Felix");
  formData.append("fileNote", noteInput.value || "");
  formData.append("uploadedFile", file); // Must be exactly "uploadedFile"

  try {
    const res = await fetch(scriptURL, { method: "POST", body: formData });
    const data = await res.json();
    if (data.success) {
      console.log("✅ Upload successful!", data);
    } else {
      console.error("❌ Upload failed:", data);
    }
  } catch (err) {
    console.error("Upload error:", err);
  }
});
</script>